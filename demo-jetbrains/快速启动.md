# MyBricks JetBrains æ’ä»¶ - å¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼ˆä¸­æ–‡ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥ç¯å¢ƒ

ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ï¼š

- **JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬**
  ```bash
  java -version
  # åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬ 17 æˆ–æ›´é«˜
  ```

å¦‚æœæ²¡æœ‰å®‰è£… JDK 17+ï¼Œè¯·è®¿é—®ï¼š
- Oracle JDK: https://www.oracle.com/java/technologies/downloads/
- OpenJDK: https://adoptium.net/

### ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

è¿›å…¥é¡¹ç›®ç›®å½•ï¼š

```bash
cd demo-jetbrains
```

ç”±äº Gradle Wrapper çš„ JAR æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéœ€è¦å…ˆç”Ÿæˆã€‚æœ‰ä¸¤ç§æ–¹å¼ï¼š

**æ–¹å¼ Aï¼šå¦‚æœç³»ç»Ÿå·²å®‰è£… Gradle**
```bash
gradle wrapper --gradle-version 8.5
```

**æ–¹å¼ Bï¼šæ‰‹åŠ¨ä¸‹è½½ï¼ˆæ¨èï¼‰**
```bash
# macOS/Linux
curl -L https://repo1.maven.org/maven2/org/gradle/gradle-wrapper/8.5/gradle-wrapper-8.5.jar -o gradle/wrapper/gradle-wrapper.jar

# æˆ–ä½¿ç”¨ wget
wget https://repo1.maven.org/maven2/org/gradle/gradle-wrapper/8.5/gradle-wrapper-8.5.jar -O gradle/wrapper/gradle-wrapper.jar
```

### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œæ’ä»¶

**å¼€å‘æ¨¡å¼è¿è¡Œï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰ï¼š**

```bash
# macOS/Linux
./gradlew runIde

# Windows
gradlew.bat runIde
```

è¿™ä¼šï¼š
1. â¬‡ï¸ è‡ªåŠ¨ä¸‹è½½æ‰€éœ€ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œè¾ƒæ…¢ï¼Œå¤§çº¦éœ€è¦ 5-10 åˆ†é’Ÿï¼‰
2. ğŸ”¨ ç¼–è¯‘ Kotlin ä»£ç 
3. ğŸš€ å¯åŠ¨ä¸€ä¸ªåŒ…å« MyBricks æ’ä»¶çš„ IntelliJ IDEA æµ‹è¯•å®ä¾‹

### ç¬¬å››æ­¥ï¼šä½¿ç”¨æ’ä»¶

åœ¨å¯åŠ¨çš„æµ‹è¯• IDE ä¸­ï¼š

#### æ–¹å¼ 1ï¼šä½¿ç”¨å·¥å…·çª—å£
1. æŸ¥çœ‹å³ä¾§è¾¹æ 
2. ç‚¹å‡» "MyBricks" å›¾æ ‡
3. å·¥å…·çª—å£å°†æ‰“å¼€å¹¶æ˜¾ç¤ºè®¾è®¡å™¨

#### æ–¹å¼ 2ï¼šä½¿ç”¨å·¥å…·æ æŒ‰é’®
1. æŸ¥çœ‹ä¸»å·¥å…·æ ï¼ˆé¡¶éƒ¨ï¼‰å³ä¾§
2. ç‚¹å‡» MyBricks å›¾æ ‡
3. è¿™ä¼šæ¿€æ´»å·¥å…·çª—å£

#### æ–¹å¼ 3ï¼šä½¿ç”¨èœå•
1. ç‚¹å‡» `View` èœå•
2. é€‰æ‹© `Tool Windows`
3. é€‰æ‹© `MyBricks`

### ç¬¬äº”æ­¥ï¼šå¼€å§‹è®¾è®¡

åœ¨ MyBricks è®¾è®¡å™¨ä¸­ï¼š

1. **åˆ›å»ºæ–°é¡µé¢**
   - ç‚¹å‡» "+" æŒ‰é’®
   - é€‰æ‹©é¡µé¢ç±»å‹ï¼š
     - å°ç¨‹åºæ ‡ç­¾é¡µ
     - å°ç¨‹åºé¡µé¢
     - å¯¹è¯æ¡†
     - ç½‘é¡µ

2. **æ·»åŠ ç»„ä»¶**
   - ä»å·¦ä¾§ç»„ä»¶é¢æ¿æ‹–æ‹½ç»„ä»¶åˆ°ç”»å¸ƒ
   - æ”¯æŒçš„ç»„ä»¶ï¼šæŒ‰é’®ã€æ–‡æœ¬ã€å›¾ç‰‡ã€è¾“å…¥æ¡†ç­‰

3. **é…ç½®å±æ€§**
   - é€‰ä¸­ç»„ä»¶
   - åœ¨å³ä¾§å±æ€§é¢æ¿è¿›è¡Œé…ç½®

4. **ä¿å­˜é¡¹ç›®**
   - ç‚¹å‡»é¡¶éƒ¨å·¥å…·æ çš„ "ä¿å­˜" æŒ‰é’®
   - æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨ localStorage

5. **å¯¼å‡ºä»£ç **
   - ç‚¹å‡» "å¯¼å‡ºæºç .." æŒ‰é’®
   - æŸ¥çœ‹ç”Ÿæˆçš„å°ç¨‹åºä»£ç 

## ğŸ”¨ æ„å»ºå¯å®‰è£…çš„æ’ä»¶åŒ…

å¦‚æœæ‚¨æƒ³åœ¨æ­£å¼çš„ IDE ä¸­å®‰è£…æ’ä»¶ï¼š

```bash
# æ„å»ºæ’ä»¶
./gradlew buildPlugin

# æ’ä»¶å°†ç”Ÿæˆåœ¨
# build/distributions/mybricks-jetbrains-plugin-0.0.1.zip
```

## ğŸ“¦ å®‰è£…åˆ°æ­£å¼ IDE

### æ–¹å¼ 1ï¼šä»æœ¬åœ°å®‰è£…

1. æ‰§è¡Œä¸Šé¢çš„æ„å»ºå‘½ä»¤
2. æ‰“å¼€æ‚¨çš„ IntelliJ IDEA / WebStorm / PyCharm ç­‰
3. è¿›å…¥ `File` â†’ `Settings` (Windows/Linux) æˆ– `IntelliJ IDEA` â†’ `Preferences` (macOS)
4. é€‰æ‹© `Plugins`
5. ç‚¹å‡» `âš™ï¸` å›¾æ ‡ â†’ `Install Plugin from Disk...`
6. é€‰æ‹© `build/distributions/mybricks-jetbrains-plugin-0.0.1.zip`
7. ç‚¹å‡» `OK` å¹¶é‡å¯ IDE

### æ–¹å¼ 2ï¼šç›´æ¥å¼€å‘æ¨¡å¼è¿è¡Œï¼ˆæ— éœ€å®‰è£…ï¼‰

```bash
./gradlew runIde
```

è¿™ç§æ–¹å¼é€‚åˆå¼€å‘å’Œæµ‹è¯•ï¼Œä¸ä¼šå½±å“æ‚¨çš„æ­£å¼ IDEã€‚

## ğŸ¯ æ”¯æŒçš„ IDE

æ­¤æ’ä»¶æ”¯æŒæ‰€æœ‰ JetBrains ç³»åˆ— IDEï¼š

- âœ… IntelliJ IDEA (Community / Ultimate)
- âœ… WebStorm
- âœ… PyCharm
- âœ… PhpStorm
- âœ… GoLand
- âœ… RubyMine
- âœ… CLion
- âœ… DataGrip
- âœ… Android Studio

**ç‰ˆæœ¬è¦æ±‚ï¼š** 2023.2 æˆ–æ›´é«˜ç‰ˆæœ¬

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### å¯è§†åŒ–è®¾è®¡
- æ‹–æ‹½å¼é¡µé¢è®¾è®¡
- å®æ—¶é¢„è§ˆ
- ç»„ä»¶å±æ€§é…ç½®
- æ ·å¼ç¼–è¾‘

### ç»„ä»¶åº“
- Taro å°ç¨‹åºç»„ä»¶
- æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶åº“
- ä¸°å¯Œçš„é¢„ç½®ç»„ä»¶

### æ•°æ®ç®¡ç†
- æœ¬åœ°å­˜å‚¨ï¼ˆlocalStorageï¼‰
- é¡¹ç›®å¯¼å…¥/å¯¼å‡º
- é¡µé¢ç®¡ç†

### å¼€å‘è¾…åŠ©
- HTTP æ¥å£è¿æ¥å™¨
- æ•°æ®ç»‘å®š
- äº¤äº’ç¼–æ’
- ä»£ç å¯¼å‡º

## âš™ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# æ¸…ç†æ„å»ºäº§ç‰©
./gradlew clean

# ç¼–è¯‘é¡¹ç›®
./gradlew build

# è¿è¡Œå¼€å‘ IDE
./gradlew runIde

# æ„å»ºæ’ä»¶åŒ…
./gradlew buildPlugin

# éªŒè¯æ’ä»¶ç»“æ„
./gradlew verifyPlugin

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ä»»åŠ¡
./gradlew tasks --all
```

## âš ï¸ å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1ï¼šæç¤ºæ‰¾ä¸åˆ° `gradle-wrapper.jar`

**åŸå› ï¼š** Wrapper JAR æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒGit ä»“åº“ä¸­æœªåŒ…å«

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ä½¿ç”¨ç³»ç»Ÿ Gradle ç”Ÿæˆ
gradle wrapper --gradle-version 8.5

# æˆ–æ‰‹åŠ¨ä¸‹è½½
curl -L https://repo1.maven.org/maven2/org/gradle/gradle-wrapper/8.5/gradle-wrapper-8.5.jar -o gradle/wrapper/gradle-wrapper.jar
```

### é—®é¢˜ 2ï¼š`./gradlew: Permission denied`

**åŸå› ï¼š** gradlew è„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
chmod +x gradlew
./gradlew runIde
```

### é—®é¢˜ 3ï¼šé¦–æ¬¡è¿è¡Œç‰¹åˆ«æ…¢

**åŸå› ï¼š** Gradle éœ€è¦ä¸‹è½½å¤§é‡ä¾èµ–ï¼ˆåŒ…æ‹¬ IntelliJ Platform SDKï¼‰

**è§£å†³æ–¹æ¡ˆï¼š** 
- è€å¿ƒç­‰å¾…ï¼Œé¦–æ¬¡ä¸‹è½½å¯èƒ½éœ€è¦ 5-10 åˆ†é’Ÿ
- ç¡®ä¿ç½‘ç»œè¿æ¥è‰¯å¥½
- å¯ä»¥é…ç½® Gradle ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ

### é—®é¢˜ 4ï¼šJCEF æµè§ˆå™¨æ˜¾ç¤ºç©ºç™½

**å¯èƒ½åŸå› ï¼š**
- IDE ç‰ˆæœ¬è¿‡ä½
- JDK ç‰ˆæœ¬ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿ IDE ç‰ˆæœ¬ â‰¥ 2023.2
- ç¡®ä¿ JDK ç‰ˆæœ¬ â‰¥ 17
- æŸ¥çœ‹ IDE æ—¥å¿—æ–‡ä»¶æ’æŸ¥å…·ä½“é”™è¯¯

### é—®é¢˜ 5ï¼šæ— æ³•åŠ è½½å¤–éƒ¨ CDN èµ„æº

**å¯èƒ½åŸå› ï¼š**
- ç½‘ç»œé—®é¢˜
- é˜²ç«å¢™é™åˆ¶

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•ä½¿ç”¨ VPN
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 6ï¼šè®¾è®¡å™¨æ•°æ®ä¸¢å¤±

**åŸå› ï¼š** æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨ localStorage ä¸­ï¼Œæ¸…é™¤ç¼“å­˜ä¼šä¸¢å¤±

**è§£å†³æ–¹æ¡ˆï¼š**
- å®šæœŸç‚¹å‡» "ä¿å­˜" æŒ‰é’®
- ä½¿ç”¨ "å¯¼å‡ºæºç " åŠŸèƒ½å¤‡ä»½
- æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒæ–‡ä»¶ç³»ç»Ÿå­˜å‚¨

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æ—¥å¿—

åœ¨æµ‹è¯• IDE ä¸­ï¼š
- macOS: `Help` â†’ `Show Log in Finder`
- Windows: `Help` â†’ `Show Log in Explorer`  
- Linux: `Help` â†’ `Show Log in Files`

### å¯ç”¨ Web è°ƒè¯•

åœ¨æµè§ˆå™¨ï¼ˆJCEFï¼‰ä¸­ï¼š
- å³é”®ç‚¹å‡»è®¾è®¡å™¨ç•Œé¢
- é€‰æ‹© "Inspect" æˆ– "æ£€æŸ¥å…ƒç´ "
- æ‰“å¼€å¼€å‘è€…å·¥å…·

### é‡æ–°åŠ è½½æ’ä»¶

ä¿®æ”¹ä»£ç åï¼š
1. åœæ­¢å½“å‰è¿è¡Œçš„æµ‹è¯• IDE
2. é‡æ–°æ‰§è¡Œ `./gradlew runIde`

## ğŸ“– è¿›é˜¶é˜…è¯»

### ä¿®æ”¹æ’ä»¶é…ç½®

ç¼–è¾‘ `src/main/resources/META-INF/plugin.xml` æ–‡ä»¶ï¼š
- ä¿®æ”¹æ’ä»¶åç§°ã€æè¿°
- æ·»åŠ æ–°çš„èœå•é¡¹
- é…ç½®å¿«æ·é”®

### æ‰©å±•åŠŸèƒ½

ç¼–è¾‘ Kotlin æºä»£ç ï¼š
- `MyBricksToolWindowFactory.kt` - å·¥å…·çª—å£é€»è¾‘
- `OpenMyBricksAction.kt` - å·¥å…·æ æŒ‰é’®è¡Œä¸º
- `config.tsx` - è®¾è®¡å™¨é…ç½®

### è‡ªå®šä¹‰ç»„ä»¶åº“

åœ¨ `config.tsx` ä¸­ä¿®æ”¹ `comLibLoader` å‡½æ•°ï¼š
```typescript
comLibLoader(desc) {
  return new Promise((resolve, reject) => {
    resolve([
      // æ·»åŠ æ‚¨çš„ç»„ä»¶åº“ URL
      'https://your-component-library.com/edit.js'
    ])
  })
}
```

## ğŸ“‚ é¡¹ç›®ç»“æ„è¯´æ˜

```
demo-jetbrains/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ kotlin/                           # Kotlin æºä»£ç 
â”‚   â”‚   â””â”€â”€ com/mybricks/jetbrains/
â”‚   â”‚       â”œâ”€â”€ MyBricksToolWindowFactory.kt  # å·¥å…·çª—å£å·¥å‚ç±»
â”‚   â”‚       â””â”€â”€ actions/
â”‚   â”‚           â””â”€â”€ OpenMyBricksAction.kt     # æ‰“å¼€è®¾è®¡å™¨çš„åŠ¨ä½œ
â”‚   â””â”€â”€ resources/                        # èµ„æºæ–‡ä»¶
â”‚       â”œâ”€â”€ META-INF/
â”‚       â”‚   â””â”€â”€ plugin.xml                # æ’ä»¶é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ webview/                      # Web è§†å›¾èµ„æº
â”‚       â”‚   â”œâ”€â”€ index.html                # HTML æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ app.tsx                   # React ä¸»åº”ç”¨
â”‚       â”‚   â”œâ”€â”€ config.tsx                # MyBricks è®¾è®¡å™¨é…ç½®
â”‚       â”‚   â””â”€â”€ app.css                   # æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ icons/
â”‚           â””â”€â”€ pluginIcon.svg            # æ’ä»¶å›¾æ ‡
â”œâ”€â”€ build.gradle.kts                      # Gradle æ„å»ºè„šæœ¬
â”œâ”€â”€ settings.gradle.kts                   # Gradle è®¾ç½®
â”œâ”€â”€ gradle.properties                     # æ’ä»¶å…ƒæ•°æ®å’Œé…ç½®
â”œâ”€â”€ gradlew                               # Gradle Wrapper (Unix/Mac)
â”œâ”€â”€ gradlew.bat                           # Gradle Wrapper (Windows)
â””â”€â”€ gradle/wrapper/
    â””â”€â”€ gradle-wrapper.properties         # Wrapper é…ç½®
```

## ğŸ“ å­¦ä¹ èµ„æº

### JetBrains æ’ä»¶å¼€å‘
- [å®˜æ–¹æ–‡æ¡£](https://plugins.jetbrains.com/docs/intellij/)
- [ç¤ºä¾‹é¡¹ç›®](https://github.com/JetBrains/intellij-sdk-code-samples)
- [Kotlin å…¥é—¨](https://kotlinlang.org/docs/getting-started.html)

### MyBricks ç›¸å…³
- [MyBricks å®˜ç½‘](https://mybricks.ai)
- [è®¾è®¡å™¨æ–‡æ¡£](https://mybricks.ai/docs)
- [ç»„ä»¶åº“å¼€å‘](https://mybricks.ai/docs/components)

## ğŸ’ª ä¸‹ä¸€æ­¥

1. âœ… è¿è¡Œæ’ä»¶æŸ¥çœ‹æ•ˆæœ
2. ğŸ¨ å°è¯•åˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡µé¢
3. ğŸ”§ æ¢ç´¢è®¾è®¡å™¨çš„å„é¡¹åŠŸèƒ½
4. ğŸ“ é˜…è¯»è¯¦ç»†æ–‡æ¡£ [README.md](./README.md)
5. ğŸš€ å¼€å§‹æ‚¨çš„å¯è§†åŒ–å¼€å‘ä¹‹æ—…ï¼

## ğŸ“ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿæˆ‘ä»¬éšæ—¶ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼š

- ğŸ“§ **é‚®ç®±**: support@mybricks.ai
- ğŸŒ **å®˜ç½‘**: https://mybricks.ai
- ğŸ’¬ **ç¤¾åŒº**: [åŠ å…¥æˆ‘ä»¬çš„è®¨è®º](https://mybricks.ai/community)
- ğŸ“š **æ–‡æ¡£**: [å®Œæ•´æ–‡æ¡£](https://mybricks.ai/docs)

## ğŸ“„ è®¸å¯è¯

è¯·å‚è€ƒä¸»é¡¹ç›®çš„è®¸å¯è¯ã€‚

---

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿éšæ—¶è”ç³»æˆ‘ä»¬ã€‚ğŸ‰

