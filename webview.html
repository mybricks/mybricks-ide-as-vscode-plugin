<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src *;
        style-src 'unsafe-inline' https: http: vscode-webview:;
        script-src 'unsafe-inline' 'unsafe-eval' https: http: vscode-webview:;
        img-src https: http: data: blob: vscode-webview:;
        font-src https: http: data: vscode-webview:;
        connect-src * https: http: ws: wss: data: blob:;
        worker-src blob:;
        child-src blob:;
    "
    />
    <title>MyBricks.ai Designer</title>
    <link rel="shortcut icon" href="/favicon.ico" />

    <link href="./asserts/app.css" rel="stylesheet" type="text/css" />

    <!-- React 18 核心库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>

    <!-- Babel Standalone 支持在浏览器内编译 TSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!--  antd5-->
    <script src="./asserts/cssinjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.13/dayjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/5.22.7/antd.min.js"></script>
    <script src="https://f2.eckwai.com/kos/nlav11092/fangzhou/pub/temp/1690444248634.ant-design-icons_4.7.0_min.js"></script>

    <!-- MyBricks SDA 引擎-->
    <script src="https://p4-ec.eckwai.com/kos/nlav12333/mybricks/designer-spa/3.9.836/index.min.js"></script>

    <!-- MyBricks 服务接口连接器插件-->
    <script src="https://p2-ec.eckwai.com/kos/nlav12333/mybricks/plugin-http-connector/1.2.30/plugin.9a7ecd7bfad260c2.js"></script>

    <!-- webview 消息 API -->
    <script src="./asserts/webViewMessageApi.js"></script>

    <!-- tabbar -->
    <script src="./asserts/store/tabbar.js"></script>
  </head>

  <body>
    <div id="root"></div>

    <script>
      // 监听来自扩展的消息
      window.addEventListener('message', (event) => {
        const message = event.data
      })

      // VS Code API 对象
      const vscode = acquireVsCodeApi()
      window.VS_CODE = vscode

      // 初始化 WebView 消息 API
      const webViewMessageApi = new WebViewMessageAPI(VS_CODE)
      window.webViewMessageApi = webViewMessageApi
    </script>

    <script
      type="text/babel"
      data-type="module"
      data-presets="react,typescript"
      src="./asserts/config.tsx"
    ></script>
    <script
      type="text/babel"
      data-type="module"
      data-presets="react,typescript"
      src="./asserts/app.tsx"
    ></script>
  </body>
</html>
